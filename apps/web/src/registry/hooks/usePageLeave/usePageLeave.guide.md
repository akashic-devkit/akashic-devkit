## 개요

`usePageLeave`는 페이지 이탈 시 콜백 실행 및 데이터 전송을 처리하는 React 훅입니다.
페이지를 떠날 때 자동으로 서버로 분석 데이터를 전송하거나, 로컬 상태를 저장하는 등의 작업을 수행할 수 있습니다.

## Props & Returns

### `Props`

| 프로퍼티     | 타입                                        | 설명                                            |
| ------------ | ------------------------------------------- | ----------------------------------------------- |
| `callback`   | `() => void`                                | (선택) 페이지 이탈 시 실행할 동기 콜백 함수     |
| `sendBeacon` | `SendBeaconConfig`                          | (선택) 서버로 전송할 beacon 설정 객체           |
| `eventType`  | `'all' \| 'pagehide' \| 'visibilitychange'` | (선택) 사용할 이벤트 타입. 기본값: `'pagehide'` |
| `enabled`    | `boolean`                                   | (선택) 훅 활성화 여부. 기본값: `true`           |
| `onError`    | `(error: Error) => void`                    | (선택) 에러 발생 시 실행할 핸들러               |

#### `SendBeaconConfig`

| 프로퍼티 | 타입                                                                                 | 설명                                                                                                         |
| -------- | ------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------ |
| `url`    | `string`                                                                             | 데이터를 전송할 서버 엔드포인트 URL                                                                          |
| `data`   | `BodyInit \| Record<string, unknown> \| (() => BodyInit \| Record<string, unknown>)` | 전송할 데이터. 객체는 자동으로 JSON으로 변환됨. 함수를 전달하면 실행 시점에 동적으로 데이터를 생성할 수 있음 |

#### `eventType` 상세

- `'pagehide'`: 페이지 언로드(이동, 종료) 시에만 실행
- `'visibilitychange'`: 페이지가 hidden 상태로 전환될 때 실행 (탭 전환 포함)
- `'all'`: `visibilitychange`와 `pagehide` 모두 사용 (중복 실행 방지 포함)

### `Returns`

이 훅은 아무것도 반환하지 않습니다 (`void`).

### 주의사항

- `callback`은 동기 함수만 지원합니다. 비동기 작업은 페이지 이탈 시 완료가 보장되지 않습니다.
- `sendBeacon`은 최대 64KB까지만 전송 가능합니다.
- `eventType: 'all'`을 사용하면 탭 전환 시에도 데이터가 전송될 수 있습니다.
- 브라우저 종료나 페이지 이동 시에만 데이터를 전송하려면 `eventType: 'pagehide'`를 사용하세요.
